language: cpp
dist: focal
compiler: gcc

before_install:
- export DISPLAY=:99.0
- sh -e /etc/init.d/xvfb start
    
install:
- sudo apt-get install libsfml-dev
- sudo apt-get install qt5-default
- sudo apt-get install lcov

script:
- cd src/RealBasket
- qmake
- make
- cd ../../tests
- qmake
- make
- cd ../bin
- ./tests
- cd ../scripts
- ./coverage.sh
after_success:
- bash <(curl -s https://codecov.io/bash)
